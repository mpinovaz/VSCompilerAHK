===========================================================================
ğŸ“¦ VSCompilerAHK â€” Sistema de compilaciÃ³n de AHK's para Visual Studio Code
===========================================================================

âœï¸ Autor: M.Pino (con asistencia de Copilot)

ğŸ—“ï¸ Ãšltima versiÃ³n: julio 2025

ğŸ”§ Requisitos:
	1. AutoHotkey v2.0 y VS Code con extensiones:
		AutoHotkey v2 Language Support y
		Code Runner
	2. Disponer los archivos de esta utilidad en la misma carpeta en la
	   que resida el compilador Ahk2Exe.exe, es decir los archivos:
		VSCompilerAHK.exe,
		VSCompilerAHK.cfg (opcional) y
		VSCompilerAHK.RME (opcional)
	3. Definir en VS Code el settings.json con la directiva para
	   compilaciÃ³n de los AHK's:
	  	"code-runner.executorMap": {
			"ahk2": "\"D:\\Autohotkey\\Compiler\\VSCompilerAHK.exe\""
		}
	   D:\Autohotkey\Compiler serÃ­a donde reside Ahk2Exe.exe

ğŸ“Œ DESCRIPCIÃ“N

Este script automatiza la compilaciÃ³n de archivos AHK's con `Ahk2Exe.exe`
y muestra mensajes de estado Ãºnicamente en la consola de salida de VS Code.

Valida estructura de proyecto, verifica que el `.exe` ha sido 
efectivamente generado, y permite configurar ruta general de proyectos a
travÃ©s del archivo `VSCompilerAHK.cfg`.

---------------------------------------------------------------------------

âš™ï¸ ARCHIVO DE CONFIGURACIÃ“N

Nombre: 	`VSCompilerAHK.cfg`
Formato:	RutaGeneral=D:\AHK Proyectos

	El archivo `VSCompilerAHK.cfg` es opcional y solo sirve para validar
	rutas de proyectos generales del usuario.
	Si se dispone solo tendrÃ¡ la clave 'RutaGeneral' en la que se
	especificarÃ¡ la ruta que contiene los proyectos que elija el usuario
	en subcarpetas con el mismo nombre que el AHK main de cada proyecto.
	
	Ejemplo: RutaGeneal=C:\Proyectos\Mis Proyectos AHK
	En este ejemplo un proyecto cuyo AHK main sea 'Utilidades.ahk' deberÃ¡
	ubicarse en la carpeta:
		C:\Proyectos\Mis Proyectos AHK\Utilidades\
		
Â¿Para quÃ© sirve esta condiciÃ³n?
	Esta condiciÃ³n sirve para que en el caso de que se lance a compilar un
	AHK que no sea el main del proyecto se cancele la compilaciÃ³n.

---------------------------------------------------------------------------

ğŸ§ª VALIDACIONES AUTOMÃTICAS

1. VerificaciÃ³n de que 'VSCompilerAHK' reside en la misma carpeta que el
   compilador Ahk2Exe.exe.
   
2. VerificaciÃ³n que el AHK a compilar ya fue guardado por prmera vez.

3. VerificaciÃ³n, caso de definir la clave 'RutaGeneral' en el archivo
   'VSCompilerAHK.cfg' y el AHK reside tras [RutaGeneral], que el AHK a
   compilar reside en la carpeta [RutaGeneral]\[proyecto]\proyecto.ahk
   Ejemplo:
		C:\Proyectos\Mis Proyectos AHK\Utilidades\Utilidades.ahk
   Sirve para evitar la compilaciÃ³n de AHK's que no sean main del proyecto.
   Si la ruta del AHK no comienza por [RutaGeneral] el AHK se compilarÃ¡ sin
   esta validaciÃ³n.
		
4. VerificaciÃ³n de que el EXE se obtiene correctamente, por dos vÃ­as:
	4.1 Que el EXE existe en la carpeta del proyecto
	4.2 Que el EXE se ha obtenido durante la sesiÃ³n de compilaciÃ³n, por
		comparaciÃ³n de fecha-hora de inicio de la compilaciÃ³n y de creaciÃ³n
		del EXE
   
Estas validaciones generÃ¡n un mensaje en la consola de Visual Studio Code
informando de quÃ© validaciÃ³n no se ha superado.
Caso de superarse todas las validaciones se observarÃ¡ en la consola:
	âœ“ Obtenido: [Proyecto].exe

---------------------------------------------------------------------------

ğŸ›‘ CÃ“DIGOS DE SALIDA (ExitApp)

- `0`: Ã‰xito, compilaciÃ³n confirmada.
- `1`: Error de convenciÃ³n de subcarpeta segÃºn [RutaGeneral].
- `2`: No se generÃ³ el `.exe`.
- `3`: El AHK del proyecto no existe (aÃºn no fuÃ© guardado).
- `4`: VSComplerAHK.exe no reside donde Ahk2Exe.exe.

---------------------------------------------------------------------------

ğŸ§­ INTEGRACIÃ“N CON VS CODE

Debes usar la extensiones Code Runner y AutoHotkey v2 Language para ejecutar
directamente tu script desde el editor.
La salida aparecerÃ¡ en el panel de "OUTPUT", con mensajes legibles.

DeberÃ¡s configurar "Setting.json" en Visual Studio Code aÃ±adiendole
	"code-runner.executorMap": {
        "ahk2": "\"D:\\Autohotkey\\Compiler\\VSCompilarAHK.exe\""
    }
	
La ruta "D:\Autohotkey\Compiler\VSCompilarAHK.exe" deberÃ¡s ajustarla en
funciÃ³n a donde resida Ahk2Exe.exe, a quien deberÃ¡s acompaÃ±ar
VSCompilrAHK.exe.

---------------------------------------------------------------------------

ğŸ¯ NOTA FINAL

Este script estÃ¡ pensado para desarrolladores ordenados, 
con estructura de proyecto definida. No incluye globos del sistema, 
evitando interferencias visuales y asegurando portabilidad.

Si estÃ¡s interesado en incluir un icono en tu proyecto no tienes mÃ¡s que
incluir, en alguna parte de tu cÃ³digo (preferiblemente al principio del
main del proyecto), la directiva Ahk2Exe:
	;@Ahk2Exe-SetMainIcon [nombre].ico
incluido el ";", y siendo [nombre] el nombre del icono, que debe incluir la
ruta completa si no reside donde el AHK main.

Â¡Compila, valida y comunica sin molestar!

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ¤ ASISTENCIA TECNOLÃ“GICA

Este sistema fue diseÃ±ado y depurado con la colaboraciÃ³n de
**Copilot de Microsoft**, herramienta de asistencia tÃ©cnica basada en
inteligencia artificial, capaz de ayudar en la creaciÃ³n, depuraciÃ³n y
mejora progresiva de scripts AutoHotkey.

Gracias a su capacidad para comprender lÃ³gica contextual, proponer mejoras
precisas y facilitar documentaciÃ³n tÃ©cnica, este script alcanzÃ³ un nivel de
integraciÃ³n  y robustez difÃ­cil de lograr en sesiones aisladas.

MÃ¡s informaciÃ³n sobre Copilot:
https://copilot.microsoft.com

